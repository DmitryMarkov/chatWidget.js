!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty;function a(e,t){return Array.isArray(e)?function(e,t){for(var n,i="",s="",r=Array.isArray(t),o=0;o<e.length;o++)(n=a(e[o]))&&(r&&t[o]&&(n=u(n)),i=i+s+n,s=" ");return i}(e,t):e&&"object"==typeof e?function(e){var t="",n="";for(var a in e)a&&e[a]&&i.call(e,a)&&(t=t+n+a,n=" ");return t}(e):e||""}function s(e){if(!e)return"";if("object"==typeof e){var t="";for(var n in e)i.call(e,n)&&(t=t+n+":"+e[n]+";");return t}return e+""}function r(e,t,n,i){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(i?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=u(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.merge=function e(t,n){if(1===arguments.length){for(var i=t[0],a=1;a<t.length;a++)i=e(i,t[a]);return i}for(var r in n)if("class"===r){var o=t[r]||[];t[r]=(Array.isArray(o)?o:[o]).concat(n[r]||[])}else if("style"===r){var o=s(t[r]);o=o&&";"!==o[o.length-1]?o+";":o;var u=s(n[r]);u=u&&";"!==u[u.length-1]?u+";":u,t[r]=o+u}else t[r]=n[r];return t},t.classes=a,t.style=s,t.attr=r,t.attrs=function(e,t){var n="";for(var o in e)if(i.call(e,o)){var u=e[o];if("class"===o){u=a(u),n=r(o,u,!1,t)+n;continue}"style"===o&&(u=s(u)),n+=r(o,u,!1,t)}return n};var o=/["&<>]/;function u(e){var t=""+e,n=o.exec(t);if(!n)return e;var i,a,s,r="";for(i=n.index,a=0;i<t.length;i++){switch(t.charCodeAt(i)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}a!==i&&(r+=t.substring(a,i)),a=i+1,r+=s}return a!==i?r+t.substring(a,i):r}t.escape=u,t.rethrow=function e(t,i,a,s){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&i||s))throw t.message+=" on line "+a,t;try{s=s||n(7).readFileSync(i,"utf8")}catch(n){e(t,null,a)}var r=3,o=s.split("\n"),u=Math.max(a-r,0),l=Math.min(o.length,a+r);var r=o.slice(u,l).map(function(e,t){var n=t+u+1;return(n==a?"  > ":"    ")+n+"| "+e}).join("\n");t.path=i;t.message=(i||"Pug")+":"+a+"\n"+r+"\n\n"+t.message;throw t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomNumber=function(e){return Math.round(Math.random()*(e-1))},t.formatDate=function(e){var t=new Date(e);return t.getHours()+":"+t.getMinutes()},t.deepEqual=function(e,t){return JSON.stringify(e)===JSON.stringify(t)}},function(e,t,n){var i=n(0);e.exports=function(e){var t,n="",a=e||{};return function(e,a,s){(function(){var r=a;if("number"==typeof r.length)for(var o=0,u=r.length;o<u;o++){var l=r[o];n=n+"<div"+i.attr("class",i.classes(["chat__message",l.name===s?"chat__message-my":""],[!1,!0]),!1,!0)+'><div class="message__time">'+i.escape(null==(t=l.name===s?"":l.name)?"":t)+"</div><div>"+i.escape(null==(t=l.text)?"":t)+'</div><div class="message__time float-right">'+i.escape(null==(t=e(l.date))?"":t)+"</div></div>"}else for(var o in u=0,r)u++,l=r[o],n=n+"<div"+i.attr("class",i.classes(["chat__message",l.name===s?"chat__message-my":""],[!1,!0]),!1,!0)+'><div class="message__time">'+i.escape(null==(t=l.name===s?"":l.name)?"":t)+"</div><div>"+i.escape(null==(t=l.text)?"":t)+'</div><div class="message__time float-right">'+i.escape(null==(t=e(l.date))?"":t)+"</div></div>"}).call(this)}.call(this,"formatDate"in a?a.formatDate:"undefined"!=typeof formatDate?formatDate:void 0,"messages"in a?a.messages:"undefined"!=typeof messages?messages:void 0,"username"in a?a.username:"undefined"!=typeof username?username:void 0),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.storeService={getItem:function(e){return localStorage.getItem(e)||""},setItem:function(e,t){localStorage.setItem(e,t)},remove:function(e){localStorage.removeItem(e)},getJSON:function(e){return JSON.parse(localStorage.getItem(e)||"[]")},setJSON:function(e,t){localStorage.setItem(e,JSON.stringify(t))}}},function(e,t,n){"use strict";var i,a=n(5);new((i=a)&&i.__esModule?i:{default:i}).default({el:".chat",buttonEl:".website",isOpenedOnStart:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=m(n(6)),s=m(n(8)),r=m(n(9)),o=m(n(10)),u=m(n(11)),l=m(n(13)),c=m(n(15)),f=m(n(16)),h=m(n(17)),d=n(3),g=n(1),v=m(n(18));function m(e){return e&&e.__esModule?e:{default:e}}function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var y=function(){function e(t){var n=t.el,i=t.buttonEl,a=t.isOpenedOnStart;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=document.querySelector(n),this.buttonEl=document.querySelector(i),this.isOpenedOnStart=a,this._initToggleButton(),this._init()}return i(e,[{key:"render",value:function(){var e=this;this.el.innerHTML=(0,a.default)({messages:this.messages,username:this.userName,formatDate:g.formatDate}),this.isOpenedOnStart||this._onToggle(),[].concat(p(this.el.querySelectorAll(".header__name a"))).forEach(function(t){t.dataset.action===e.chatGroup&&t.classList.add("active")})}},{key:"_init",value:function(){var e=this;this.userName=d.storeService.getItem("chatWidgetName"),this.chatGroup=d.storeService.getItem("chatWidgetGroup")||"botik",this._initServices(),this.messageService.getMessageList().then(function(t){e.messages=t,e.render(),e.userName?(e._initComponents(),e._initEvents()):e._initLoginComponent(),"botik"!==e.chatGroup&&e.startPolling()})}},{key:"_initServices",value:function(){this.messageService=new s.default({baseUrl:"https://components-1601-1930.firebaseio.com/chat/messages.json",chatGroup:this.chatGroup}),this.audioService=new r.default,this.botikService=new o.default}},{key:"_initToggleButton",value:function(){this.chatButton=new u.default({el:document.createElement("div"),parentEl:this.buttonEl,isOpenedOnStart:this.isOpenedOnStart,EventMixin:v.default}),this.chatButton.on("toggle",this._onToggle.bind(this))}},{key:"_initLoginComponent",value:function(){this.loginForm=new l.default({el:document.createElement("div"),EventMixin:v.default}),this.el.appendChild(this.loginForm.el),this.el.querySelector(".chat__login-button").addEventListener("click",this.loginForm.toggleModal),this.loginForm.on("login",this._onLogin.bind(this))}},{key:"_initComponents",value:function(){this.messageForm=new f.default({el:this.el.querySelector(".chat__form"),EventMixin:v.default}),this.messageList=new c.default({el:this.el.querySelector(".chat__body"),username:this.userName,messages:this.messages,messageService:this.messageService}),this.botik=new h.default({audioService:this.audioService,messageList:this.messageList,botikService:this.botikService})}},{key:"_initEvents",value:function(){this.el.querySelector(".header__name").addEventListener("click",this._changeGroup.bind(this)),this.messageForm.on("message",this._onMessage.bind(this))}},{key:"_changeGroup",value:function(e){e.preventDefault();var t=e.target.closest("[data-action]");null===t||t.classList.contains("active")||([].concat(p(t.parentNode.children)).forEach(function(e){e.classList.toggle("active")}),d.storeService.setItem("chatWidgetGroup",t.dataset.action),this.chatGroup=t.dataset.action,"botik"===this.chatGroup&&this.stopPolling(),this._init())}},{key:"_onLogin",value:function(e){this.userName=e.detail.username,d.storeService.setItem("chatWidgetName",this.userName),this.el.querySelector(".login-false").classList.toggle("hidden"),this.el.querySelector(".login-true").classList.toggle("hidden"),this._initComponents(),this._initEvents(),!this.messages.length&&this.userName&&this.botik.answer("Привет, "+this.userName+"!")}},{key:"_onMessage",value:function(e){this.messageList.addMessage({text:e.detail.text,name:this.userName}),this.messageList.render(),"botik"===this.chatGroup&&this.botik.answer(),this.audioService.play("send_message")}},{key:"_onToggle",value:function(){this.el.classList.toggle("column-25"),this.el.classList.toggle("column-0")}},{key:"startPolling",value:function(){var e=this;this.__pollingID=setInterval(function(){console.log("polling..."),e.messageService.getMessageList().then(function(t){(0,g.deepEqual)(e.messageList.getLocalMessages(),t)||(console.log("ch-ch-changes!"),e.messageList.setMessages(t),e.messageList.render(),e.messageList.getLocalMessages()[0].name!==e.userName&&e.audioService.play("receive_message"))})},4e3)}},{key:"stopPolling",value:function(){clearInterval(this.__pollingID)}}]),e}();t.default=y},function(e,t,n){var i=n(0);e.exports=function(e){var t,a="",s=e||{};return function(s){a=a+'<div class="column-center chat__app"><div'+i.attr("class",i.classes(["login-false",s?"hidden":""],[!1,!0]),!1,!0)+'><button class="button-primary chat__login-button">Join chat</button></div><div'+i.attr("class",i.classes(["login-true",s?"":"hidden"],[!1,!0]),!1,!0)+'><div class="chat__header"><i class="fa fa-user-circle-o header__avatar"></i><p class="header__name">Chat with&nbsp;<a href="#" data-action="botik">Botik</a>&nbsp; | &nbsp;<a href="#" data-action="group">Group</a></p></div><div class="chat__body">'+(null==(t=n(2).call(this,e))?"":t)+'</div><div class="chat__footer"><form class="chat__form" name="chat__form"><textarea id="message" placeholder="Enter message..."></textarea></form></div></div></div>'}.call(this,"username"in s?s.username:"undefined"!=typeof username?username:void 0),a}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(3);var s=function(){function e(t){var n=t.baseUrl,i=t.chatGroup;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=n,this.chatGroup=i}return i(e,[{key:"_request",value:function(){var e=this;return fetch(this.baseUrl).then(function(e){return e.json()}).then(function(e){return Object.values(e).reverse()}).catch(function(t){return console.log(t),a.storeService.getJSON("chatHistory-"+e.chatGroup)})}},{key:"getMessageList",value:function(){var e=this;return"botik"!==this.chatGroup?this._request():new Promise(function(t){t(a.storeService.getJSON("chatHistory-"+e.chatGroup))})}},{key:"saveMessages",value:function(e,t){"botik"!==this.chatGroup&&fetch(this.baseUrl,{method:"POST",body:JSON.stringify(t)}).then(function(e){console.log(e)}).catch(function(e){console.log(e)}),a.storeService.setJSON("chatHistory-"+this.chatGroup,e)}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sounds={receive_message:new Audio("./chat/assets/sounds/notification.mp3"),send_message:new Audio("./chat/assets/sounds/sending.mp3")}}return i(e,[{key:"play",value:function(e){this.sounds[e].play()}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name="BotikService"}return i(e,[{key:"getRandomMessages",value:function(){return["Расскажи мне что-нибудь","Мне скучно","О чем ты думаешь?","Хочешь поговорить об этом?","Как ты провел свой день?","У тебя есть планы на завтрашний денёк?","Тебе нравится погода за окошком?","Во сколько ты проснулся?","Я тоже","Ага","И тебе","Хмм, интересненько..."]}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(12),r=(i=s)&&i.__esModule?i:{default:i};var o=function(){function e(t){var n=t.el,i=t.parentEl,a=t.isOpenedOnStart,s=void 0===a||a,r=t.EventMixin;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.apply(this),this.el=n,this.el.classList.add("show__button"),this.parentEl=i,this.isOpenedOnStart=s,this.render(),this.el.addEventListener("click",this.toggle.bind(this))}return a(e,[{key:"render",value:function(){this.el.innerHTML=(0,r.default)(),this.parentEl.appendChild(this.el),this.isOpenedOnStart||this._toggle(this.el.firstChild)}},{key:"toggle",value:function(e){e.preventDefault(),this._toggle(e.target.closest("[data-action]")),this.trigger("toggle")}},{key:"_toggle",value:function(e){e.firstChild.classList.toggle("fa-chevron-left"),e.firstChild.classList.toggle("fa-chevron-right")}}]),e}();t.default=o},function(e,t,n){n(0);e.exports=function(e){var t="";return t+='<button class="button button-black button__show-chat" data-action="toggle"><i class="fa fa-chevron-right"></i></button>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(14),r=(i=s)&&i.__esModule?i:{default:i};var o=function(){function e(t){var n=t.el,i=t.EventMixin;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i.apply(this),this.el=n,this.render(),this.toggleModal=this.toggleModal.bind(this),this._initEvents()}return a(e,[{key:"render",value:function(){this.el.innerHTML=(0,r.default)(),this.chatModal=this.el.querySelector(".modal__chat"),this.chatModalClose=this.el.querySelector(".modal__chat-close"),this.chatModalSubmit=this.el.querySelector(".chat-login")}},{key:"toggleModal",value:function(e){e.preventDefault(),this.chatModal.classList.toggle("not-visible")}},{key:"submitLoginForm",value:function(e){e.preventDefault(),this.trigger("login",{username:e.target.name.value}),this.toggleModal(e)}},{key:"_initEvents",value:function(){this.chatModalClose.addEventListener("click",this.toggleModal),this.chatModalSubmit.addEventListener("submit",this.submitLoginForm.bind(this))}}]),e}();t.default=o},function(e,t,n){n(0);e.exports=function(e){var t="";return t+='<div class="modal modal__chat not-visible"><div class="modal__body"><div class="modal__content"><form class="chat-login" name="chat-login"><fieldset><label for="name">Enter yo name</label><input id="name" type="text" placeholder="name" required autofocus></fieldset><button class="button-primary m-l-1 float-right" type="submit">Enter chat</button><button class="button-outline float-right modal__chat-close" type="button">Close</button></form></div></div></div>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(2),r=(i=s)&&i.__esModule?i:{default:i},o=n(1);var u=function(){function e(t){var n=t.el,i=t.username,a=t.messages,s=t.messageService;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=n,this.messageService=s,this.messages=a,this.username=i}return a(e,[{key:"render",value:function(){this.el.innerHTML=(0,r.default)({messages:this.messages,username:this.username,formatDate:o.formatDate})}},{key:"getLocalMessages",value:function(){return this.messages}},{key:"setMessages",value:function(e){this.messages=e}},{key:"addMessage",value:function(e){var t={text:e.text,name:e.name||this.username,date:Date.now()};this.messages.unshift(t),this.messageService.saveMessages(this.messages,t)}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var a=function(){function e(t){var n=t.el,i=t.EventMixin;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i.apply(this),this.el=n,this.messageTextarea=this.el.querySelector("#message"),this._initEvents()}return i(e,[{key:"reset",value:function(e){this.el.reset()}},{key:"submitMessageForm",value:function(e){13===e.charCode&&!1===e.shiftKey&&(e.preventDefault(),e.target.value.trim()&&(this.trigger("message",{text:e.target.value}),this.reset(e)))}},{key:"_initEvents",value:function(){this.messageTextarea.addEventListener("keypress",this.submitMessageForm.bind(this))}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1);var s=function(){function e(t){var n=t.audioService,i=t.messageList,a=t.botikService;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.answers=a.getRandomMessages(),this.messageList=i,this.audioService=n}return i(e,[{key:"answer",value:function(e){var t=this;setTimeout(function(){t.messageList.addMessage({text:e||t.answers[(0,a.getRandomNumber)(t.answers.length)],name:"botik"}),t.messageList.render(),t.audioService.play("receive_message")},1500)}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){this.on=function(e,t){this.el.addEventListener(e,t)},this.trigger=function(e,t){var n=new CustomEvent(e,{detail:t});this.el.dispatchEvent(n)}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3B1Zy1ydW50aW1lL2luZGV4LmpzIiwid2VicGFjazovLy8uL2NoYXQvdXRpbHMvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9jaGF0L2NvbXBvbmVudHMvbWVzc2FnZS1saXN0L2NoYXQtbWVzc2FnZS1saXN0LnB1ZyIsIndlYnBhY2s6Ly8vLi9jaGF0L3NlcnZpY2VzL3N0b3JlU2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9hcHAuanMiLCJ3ZWJwYWNrOi8vLy4vY2hhdC9tYWluLmpzIiwid2VicGFjazovLy8uL2NoYXQvbWFpbi5wdWciLCJ3ZWJwYWNrOi8vLy4vY2hhdC9zZXJ2aWNlcy9tZXNzYWdlU2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9jaGF0L3NlcnZpY2VzL2F1ZGlvU2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9jaGF0L3NlcnZpY2VzL2JvdGlrU2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9jaGF0L2NvbXBvbmVudHMvY2hhdC1idXR0b24vY2hhdEJ1dHRvbi5qcyIsIndlYnBhY2s6Ly8vLi9jaGF0L2NvbXBvbmVudHMvY2hhdC1idXR0b24vY2hhdC1idXR0b24ucHVnIiwid2VicGFjazovLy8uL2NoYXQvY29tcG9uZW50cy9sb2dpbi1mb3JtL2xvZ2luRm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9jaGF0L2NvbXBvbmVudHMvbG9naW4tZm9ybS9tb2RhbC5wdWciLCJ3ZWJwYWNrOi8vLy4vY2hhdC9jb21wb25lbnRzL21lc3NhZ2UtbGlzdC9tZXNzYWdlTGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9jaGF0L2NvbXBvbmVudHMvbWVzc2FnZS1mb3JtL21lc3NhZ2VGb3JtLmpzIiwid2VicGFjazovLy8uL2NoYXQvY29tcG9uZW50cy9ib3Rpay9jaGF0Qm90LmpzIiwid2VicGFjazovLy8uL2NoYXQvY29tcG9uZW50cy9jb21tb24vY3VzdG9tRXZlbnRzLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicHVnX2hhc19vd25fcHJvcGVydHkiLCJwdWdfY2xhc3NlcyIsInZhbCIsImVzY2FwaW5nIiwiQXJyYXkiLCJpc0FycmF5IiwiY2xhc3NOYW1lIiwiY2xhc3NTdHJpbmciLCJwYWRkaW5nIiwiZXNjYXBlRW5hYmxlZCIsImxlbmd0aCIsInB1Z19lc2NhcGUiLCJwdWdfY2xhc3Nlc19hcnJheSIsInB1Z19jbGFzc2VzX29iamVjdCIsInB1Z19zdHlsZSIsIm91dCIsInN0eWxlIiwicHVnX2F0dHIiLCJlc2NhcGVkIiwidGVyc2UiLCJ0b0pTT04iLCJKU09OIiwic3RyaW5naWZ5IiwiaW5kZXhPZiIsInJlcGxhY2UiLCJtZXJnZSIsInB1Z19tZXJnZSIsImEiLCJiIiwiYXJndW1lbnRzIiwiYXR0cnMiLCJ2YWxBIiwiY29uY2F0IiwidmFsQiIsImNsYXNzZXMiLCJhdHRyIiwib2JqIiwicHVnX21hdGNoX2h0bWwiLCJfaHRtbCIsImh0bWwiLCJyZWdleFJlc3VsdCIsImV4ZWMiLCJsYXN0SW5kZXgiLCJlc2NhcGUiLCJyZXN1bHQiLCJpbmRleCIsImNoYXJDb2RlQXQiLCJzdWJzdHJpbmciLCJyZXRocm93IiwicHVnX3JldGhyb3ciLCJlcnIiLCJmaWxlbmFtZSIsImxpbmVubyIsInN0ciIsIkVycm9yIiwid2luZG93IiwibWVzc2FnZSIsInJlYWRGaWxlU3luYyIsImV4IiwiY29udGV4dCIsImxpbmVzIiwic3BsaXQiLCJzdGFydCIsIk1hdGgiLCJtYXgiLCJlbmQiLCJtaW4iLCJzbGljZSIsIm1hcCIsImxpbmUiLCJjdXJyIiwiam9pbiIsInBhdGgiLCJnZXRSYW5kb21OdW1iZXIiLCJyb3VuZCIsInJhbmRvbSIsImZvcm1hdERhdGUiLCJkYXRlU3RyaW5nIiwiZGF0ZU9iaiIsIkRhdGUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJkZWVwRXF1YWwiLCJzcmMiLCJkZXN0IiwicHVnIiwibG9jYWxzIiwicHVnX2ludGVycCIsInB1Z19odG1sIiwibG9jYWxzX2Zvcl93aXRoIiwibWVzc2FnZXMiLCJ1c2VybmFtZSIsIiQkb2JqIiwicHVnX2luZGV4MCIsIiQkbCIsInRleHQiLCJkYXRlIiwidGhpcyIsInVuZGVmaW5lZCIsInN0b3JlU2VydmljZSIsImdldEl0ZW0iLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwic3RyaW5nIiwicmVtb3ZlIiwicmVtb3ZlSXRlbSIsImdldEpTT04iLCJwYXJzZSIsInNldEpTT04iLCJfbWFpbiIsIkNoYXQiLCJlbCIsImJ1dHRvbkVsIiwiaXNPcGVuZWRPblN0YXJ0IiwiX3N0b3JlU2VydmljZSIsIl91dGlsIiwiX3JlZiIsIl9jbGFzc0NhbGxDaGVjayIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIl9pbml0VG9nZ2xlQnV0dG9uIiwiX2luaXQiLCJfdGhpcyIsImlubmVySFRNTCIsIl9tYWluMiIsImRlZmF1bHQiLCJ1c2VyTmFtZSIsIl9vblRvZ2dsZSIsIl90b0NvbnN1bWFibGVBcnJheSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZGF0YXNldCIsImFjdGlvbiIsImNoYXRHcm91cCIsImNsYXNzTGlzdCIsImFkZCIsIl90aGlzMiIsIl9pbml0U2VydmljZXMiLCJtZXNzYWdlU2VydmljZSIsImdldE1lc3NhZ2VMaXN0IiwidGhlbiIsInJlcyIsInJlbmRlciIsIl9pbml0Q29tcG9uZW50cyIsIl9pbml0RXZlbnRzIiwiX2luaXRMb2dpbkNvbXBvbmVudCIsInN0YXJ0UG9sbGluZyIsIk1lc3NhZ2VTZXJ2aWNlIiwiYmFzZVVybCIsImF1ZGlvU2VydmljZSIsIkF1ZGlvU2VydmljZSIsImJvdGlrU2VydmljZSIsIkJvdGlrU2VydmljZSIsImNoYXRCdXR0b24iLCJDaGF0QnV0dG9uIiwiY3JlYXRlRWxlbWVudCIsInBhcmVudEVsIiwiRXZlbnRNaXhpbiIsIm9uIiwibG9naW5Gb3JtIiwiTG9naW5Gb3JtIiwiYXBwZW5kQ2hpbGQiLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlTW9kYWwiLCJfb25Mb2dpbiIsIm1lc3NhZ2VGb3JtIiwiTWVzc2FnZUZvcm0iLCJtZXNzYWdlTGlzdCIsIk1lc3NhZ2VMaXN0IiwiYm90aWsiLCJCb3RpayIsIl9jaGFuZ2VHcm91cCIsIl9vbk1lc3NhZ2UiLCJlIiwicHJldmVudERlZmF1bHQiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiY29udGFpbnMiLCJwYXJlbnROb2RlIiwiY2hpbGRyZW4iLCJjaGlsZCIsInRvZ2dsZSIsInN0b3BQb2xsaW5nIiwiZGV0YWlsIiwiYW5zd2VyIiwiYWRkTWVzc2FnZSIsInBsYXkiLCJfdGhpczMiLCJfX3BvbGxpbmdJRCIsInNldEludGVydmFsIiwiY29uc29sZSIsImxvZyIsImdldExvY2FsTWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsImNsZWFySW50ZXJ2YWwiLCJmZXRjaCIsInJlc3BvbnNlIiwianNvbiIsInZhbHVlcyIsInJldmVyc2UiLCJjYXRjaCIsIl9yZXF1ZXN0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJtZXRob2QiLCJib2R5Iiwic291bmRzIiwicmVjZWl2ZV9tZXNzYWdlIiwiQXVkaW8iLCJzZW5kX21lc3NhZ2UiLCJzb3VuZCIsIl9jaGF0QnV0dG9uIiwiX3JlZiRpc09wZW5lZE9uU3RhcnQiLCJhcHBseSIsIl9jaGF0QnV0dG9uMiIsIl90b2dnbGUiLCJmaXJzdENoaWxkIiwidHJpZ2dlciIsIl9tb2RhbCIsIl9tb2RhbDIiLCJjaGF0TW9kYWwiLCJjaGF0TW9kYWxDbG9zZSIsImNoYXRNb2RhbFN1Ym1pdCIsInN1Ym1pdExvZ2luRm9ybSIsIl9jaGF0TWVzc2FnZUxpc3QiLCJfY2hhdE1lc3NhZ2VMaXN0MiIsImRhdGEiLCJub3ciLCJ1bnNoaWZ0Iiwic2F2ZU1lc3NhZ2VzIiwibWVzc2FnZVRleHRhcmVhIiwicmVzZXQiLCJjaGFyQ29kZSIsInNoaWZ0S2V5IiwidHJpbSIsInN1Ym1pdE1lc3NhZ2VGb3JtIiwiQ2hhdEJvdCIsImFuc3dlcnMiLCJnZXRSYW5kb21NZXNzYWdlcyIsInNldFRpbWVvdXQiLCJjYiIsImV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkaXNwYXRjaEV2ZW50Il0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEs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QUVDLGlCQUNFRCxFQUFFRSxPQUFPOUwsTUFBTXlQLFNBQ2pCekksS0FBS3dILFFBQVEsVUFBVyxDQUFFMUgsS0FBTThFLEVBQUVFLE9BQU85TCxRQUN6Q2dILEtBQUtzSSxNQUFNMUQsMkNBTWY1RSxLQUFLcUksZ0JBQWdCcEUsaUJBQWlCLFdBQVlqRSxLQUFLMEksa0JBQWtCblAsS0FBS3lHLDBCQUluRXFFLDBVQ2hDZm5ELEVBQUF2SixFQUFBLE9BRU1nUixhQUNKLFNBQUFBLEVBQUF4SCxHQUlHLElBSERpQyxFQUdDakMsRUFIRGlDLGFBQ0FrQixFQUVDbkQsRUFGRG1ELFlBQ0FoQixFQUNDbkMsRUFERG1DLDBHQUNDbEMsQ0FBQXBCLEtBQUEySSxHQUNEM0ksS0FBSzRJLFFBQVV0RixFQUFhdUYsb0JBQzVCN0ksS0FBS3NFLFlBQWNBLEVBQ25CdEUsS0FBS29ELGFBQWVBLDJDQUdkN0YsR0FBUyxJQUFBa0UsRUFBQXpCLEtBQ2Y4SSxXQUFXLFdBQ1RySCxFQUFLNkMsWUFBWWtCLFdBQVcsQ0FDMUIxRixLQUFNdkMsR0FBV2tFLEVBQUttSCxTQUFRLEVBQUExSCxFQUFBMUMsaUJBQWdCaUQsRUFBS21ILFFBQVFuTyxTQUMzRG5DLEtBQU0sVUFFUm1KLEVBQUs2QyxZQUFZekIsU0FDakJwQixFQUFLMkIsYUFBYXFDLEtBQUssb0JBQ3RCLHlCQUlRa0QsMkZDdkJmLFdBQ0UzSSxLQUFLNkQsR0FBSyxTQUFVdkwsRUFBTXlRLEdBQ3hCL0ksS0FBS2MsR0FBR21ELGlCQUFpQjNMLEVBQU15USxJQUVqQy9JLEtBQUt3SCxRQUFVLFNBQVVsUCxFQUFNMlAsR0FDN0IsSUFBSWUsRUFBUSxJQUFJQyxZQUFZM1EsRUFBTSxDQUFFZ04sT0FBUTJDLElBQzVDakksS0FBS2MsR0FBR29JLGNBQWNGIiwiZmlsZSI6ImFwcC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNCk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBwdWdfaGFzX293bl9wcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogTWVyZ2UgdHdvIGF0dHJpYnV0ZSBvYmplY3RzIGdpdmluZyBwcmVjZWRlbmNlXG4gKiB0byB2YWx1ZXMgaW4gb2JqZWN0IGBiYC4gQ2xhc3NlcyBhcmUgc3BlY2lhbC1jYXNlZFxuICogYWxsb3dpbmcgZm9yIGFycmF5cyBhbmQgbWVyZ2luZy9qb2luaW5nIGFwcHJvcHJpYXRlbHlcbiAqIHJlc3VsdGluZyBpbiBhIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYVxuICogQHBhcmFtIHtPYmplY3R9IGJcbiAqIEByZXR1cm4ge09iamVjdH0gYVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5tZXJnZSA9IHB1Z19tZXJnZTtcbmZ1bmN0aW9uIHB1Z19tZXJnZShhLCBiKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgdmFyIGF0dHJzID0gYVswXTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGF0dHJzID0gcHVnX21lcmdlKGF0dHJzLCBhW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGF0dHJzO1xuICB9XG5cbiAgZm9yICh2YXIga2V5IGluIGIpIHtcbiAgICBpZiAoa2V5ID09PSAnY2xhc3MnKSB7XG4gICAgICB2YXIgdmFsQSA9IGFba2V5XSB8fCBbXTtcbiAgICAgIGFba2V5XSA9IChBcnJheS5pc0FycmF5KHZhbEEpID8gdmFsQSA6IFt2YWxBXSkuY29uY2F0KGJba2V5XSB8fCBbXSk7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09ICdzdHlsZScpIHtcbiAgICAgIHZhciB2YWxBID0gcHVnX3N0eWxlKGFba2V5XSk7XG4gICAgICB2YWxBID0gdmFsQSAmJiB2YWxBW3ZhbEEubGVuZ3RoIC0gMV0gIT09ICc7JyA/IHZhbEEgKyAnOycgOiB2YWxBO1xuICAgICAgdmFyIHZhbEIgPSBwdWdfc3R5bGUoYltrZXldKTtcbiAgICAgIHZhbEIgPSB2YWxCICYmIHZhbEJbdmFsQi5sZW5ndGggLSAxXSAhPT0gJzsnID8gdmFsQiArICc7JyA6IHZhbEI7XG4gICAgICBhW2tleV0gPSB2YWxBICsgdmFsQjtcbiAgICB9IGVsc2Uge1xuICAgICAgYVtrZXldID0gYltrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhO1xufTtcblxuLyoqXG4gKiBQcm9jZXNzIGFycmF5LCBvYmplY3QsIG9yIHN0cmluZyBhcyBhIHN0cmluZyBvZiBjbGFzc2VzIGRlbGltaXRlZCBieSBhIHNwYWNlLlxuICpcbiAqIElmIGB2YWxgIGlzIGFuIGFycmF5LCBhbGwgbWVtYmVycyBvZiBpdCBhbmQgaXRzIHN1YmFycmF5cyBhcmUgY291bnRlZCBhc1xuICogY2xhc3Nlcy4gSWYgYGVzY2FwaW5nYCBpcyBhbiBhcnJheSwgdGhlbiB3aGV0aGVyIG9yIG5vdCB0aGUgaXRlbSBpbiBgdmFsYCBpc1xuICogZXNjYXBlZCBkZXBlbmRzIG9uIHRoZSBjb3JyZXNwb25kaW5nIGl0ZW0gaW4gYGVzY2FwaW5nYC4gSWYgYGVzY2FwaW5nYCBpc1xuICogbm90IGFuIGFycmF5LCBubyBlc2NhcGluZyBpcyBkb25lLlxuICpcbiAqIElmIGB2YWxgIGlzIGFuIG9iamVjdCwgYWxsIHRoZSBrZXlzIHdob3NlIHZhbHVlIGlzIHRydXRoeSBhcmUgY291bnRlZCBhc1xuICogY2xhc3Nlcy4gTm8gZXNjYXBpbmcgaXMgZG9uZS5cbiAqXG4gKiBJZiBgdmFsYCBpcyBhIHN0cmluZywgaXQgaXMgY291bnRlZCBhcyBhIGNsYXNzLiBObyBlc2NhcGluZyBpcyBkb25lLlxuICpcbiAqIEBwYXJhbSB7KEFycmF5LjxzdHJpbmc+fE9iamVjdC48c3RyaW5nLCBib29sZWFuPnxzdHJpbmcpfSB2YWxcbiAqIEBwYXJhbSB7P0FycmF5LjxzdHJpbmc+fSBlc2NhcGluZ1xuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5leHBvcnRzLmNsYXNzZXMgPSBwdWdfY2xhc3NlcztcbmZ1bmN0aW9uIHB1Z19jbGFzc2VzX2FycmF5KHZhbCwgZXNjYXBpbmcpIHtcbiAgdmFyIGNsYXNzU3RyaW5nID0gJycsIGNsYXNzTmFtZSwgcGFkZGluZyA9ICcnLCBlc2NhcGVFbmFibGVkID0gQXJyYXkuaXNBcnJheShlc2NhcGluZyk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsLmxlbmd0aDsgaSsrKSB7XG4gICAgY2xhc3NOYW1lID0gcHVnX2NsYXNzZXModmFsW2ldKTtcbiAgICBpZiAoIWNsYXNzTmFtZSkgY29udGludWU7XG4gICAgZXNjYXBlRW5hYmxlZCAmJiBlc2NhcGluZ1tpXSAmJiAoY2xhc3NOYW1lID0gcHVnX2VzY2FwZShjbGFzc05hbWUpKTtcbiAgICBjbGFzc1N0cmluZyA9IGNsYXNzU3RyaW5nICsgcGFkZGluZyArIGNsYXNzTmFtZTtcbiAgICBwYWRkaW5nID0gJyAnO1xuICB9XG4gIHJldHVybiBjbGFzc1N0cmluZztcbn1cbmZ1bmN0aW9uIHB1Z19jbGFzc2VzX29iamVjdCh2YWwpIHtcbiAgdmFyIGNsYXNzU3RyaW5nID0gJycsIHBhZGRpbmcgPSAnJztcbiAgZm9yICh2YXIga2V5IGluIHZhbCkge1xuICAgIGlmIChrZXkgJiYgdmFsW2tleV0gJiYgcHVnX2hhc19vd25fcHJvcGVydHkuY2FsbCh2YWwsIGtleSkpIHtcbiAgICAgIGNsYXNzU3RyaW5nID0gY2xhc3NTdHJpbmcgKyBwYWRkaW5nICsga2V5O1xuICAgICAgcGFkZGluZyA9ICcgJztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNsYXNzU3RyaW5nO1xufVxuZnVuY3Rpb24gcHVnX2NsYXNzZXModmFsLCBlc2NhcGluZykge1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgcmV0dXJuIHB1Z19jbGFzc2VzX2FycmF5KHZhbCwgZXNjYXBpbmcpO1xuICB9IGVsc2UgaWYgKHZhbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBwdWdfY2xhc3Nlc19vYmplY3QodmFsKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsIHx8ICcnO1xuICB9XG59XG5cbi8qKlxuICogQ29udmVydCBvYmplY3Qgb3Igc3RyaW5nIHRvIGEgc3RyaW5nIG9mIENTUyBzdHlsZXMgZGVsaW1pdGVkIGJ5IGEgc2VtaWNvbG9uLlxuICpcbiAqIEBwYXJhbSB7KE9iamVjdC48c3RyaW5nLCBzdHJpbmc+fHN0cmluZyl9IHZhbFxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5cbmV4cG9ydHMuc3R5bGUgPSBwdWdfc3R5bGU7XG5mdW5jdGlvbiBwdWdfc3R5bGUodmFsKSB7XG4gIGlmICghdmFsKSByZXR1cm4gJyc7XG4gIGlmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0Jykge1xuICAgIHZhciBvdXQgPSAnJztcbiAgICBmb3IgKHZhciBzdHlsZSBpbiB2YWwpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAocHVnX2hhc19vd25fcHJvcGVydHkuY2FsbCh2YWwsIHN0eWxlKSkge1xuICAgICAgICBvdXQgPSBvdXQgKyBzdHlsZSArICc6JyArIHZhbFtzdHlsZV0gKyAnOyc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZhbCArICcnO1xuICB9XG59O1xuXG4vKipcbiAqIFJlbmRlciB0aGUgZ2l2ZW4gYXR0cmlidXRlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWxcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZXNjYXBlZFxuICogQHBhcmFtIHtCb29sZWFufSB0ZXJzZVxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5leHBvcnRzLmF0dHIgPSBwdWdfYXR0cjtcbmZ1bmN0aW9uIHB1Z19hdHRyKGtleSwgdmFsLCBlc2NhcGVkLCB0ZXJzZSkge1xuICBpZiAodmFsID09PSBmYWxzZSB8fCB2YWwgPT0gbnVsbCB8fCAhdmFsICYmIChrZXkgPT09ICdjbGFzcycgfHwga2V5ID09PSAnc3R5bGUnKSkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBpZiAodmFsID09PSB0cnVlKSB7XG4gICAgcmV0dXJuICcgJyArICh0ZXJzZSA/IGtleSA6IGtleSArICc9XCInICsga2V5ICsgJ1wiJyk7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWwudG9KU09OID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFsID0gdmFsLnRvSlNPTigpO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsICE9PSAnc3RyaW5nJykge1xuICAgIHZhbCA9IEpTT04uc3RyaW5naWZ5KHZhbCk7XG4gICAgaWYgKCFlc2NhcGVkICYmIHZhbC5pbmRleE9mKCdcIicpICE9PSAtMSkge1xuICAgICAgcmV0dXJuICcgJyArIGtleSArICc9XFwnJyArIHZhbC5yZXBsYWNlKC8nL2csICcmIzM5OycpICsgJ1xcJyc7XG4gICAgfVxuICB9XG4gIGlmIChlc2NhcGVkKSB2YWwgPSBwdWdfZXNjYXBlKHZhbCk7XG4gIHJldHVybiAnICcgKyBrZXkgKyAnPVwiJyArIHZhbCArICdcIic7XG59O1xuXG4vKipcbiAqIFJlbmRlciB0aGUgZ2l2ZW4gYXR0cmlidXRlcyBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHBhcmFtIHtPYmplY3R9IHRlcnNlIHdoZXRoZXIgdG8gdXNlIEhUTUw1IHRlcnNlIGJvb2xlYW4gYXR0cmlidXRlc1xuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5leHBvcnRzLmF0dHJzID0gcHVnX2F0dHJzO1xuZnVuY3Rpb24gcHVnX2F0dHJzKG9iaiwgdGVyc2Upe1xuICB2YXIgYXR0cnMgPSAnJztcblxuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKHB1Z19oYXNfb3duX3Byb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICB2YXIgdmFsID0gb2JqW2tleV07XG5cbiAgICAgIGlmICgnY2xhc3MnID09PSBrZXkpIHtcbiAgICAgICAgdmFsID0gcHVnX2NsYXNzZXModmFsKTtcbiAgICAgICAgYXR0cnMgPSBwdWdfYXR0cihrZXksIHZhbCwgZmFsc2UsIHRlcnNlKSArIGF0dHJzO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICgnc3R5bGUnID09PSBrZXkpIHtcbiAgICAgICAgdmFsID0gcHVnX3N0eWxlKHZhbCk7XG4gICAgICB9XG4gICAgICBhdHRycyArPSBwdWdfYXR0cihrZXksIHZhbCwgZmFsc2UsIHRlcnNlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXR0cnM7XG59O1xuXG4vKipcbiAqIEVzY2FwZSB0aGUgZ2l2ZW4gc3RyaW5nIG9mIGBodG1sYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaHRtbFxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxudmFyIHB1Z19tYXRjaF9odG1sID0gL1tcIiY8Pl0vO1xuZXhwb3J0cy5lc2NhcGUgPSBwdWdfZXNjYXBlO1xuZnVuY3Rpb24gcHVnX2VzY2FwZShfaHRtbCl7XG4gIHZhciBodG1sID0gJycgKyBfaHRtbDtcbiAgdmFyIHJlZ2V4UmVzdWx0ID0gcHVnX21hdGNoX2h0bWwuZXhlYyhodG1sKTtcbiAgaWYgKCFyZWdleFJlc3VsdCkgcmV0dXJuIF9odG1sO1xuXG4gIHZhciByZXN1bHQgPSAnJztcbiAgdmFyIGksIGxhc3RJbmRleCwgZXNjYXBlO1xuICBmb3IgKGkgPSByZWdleFJlc3VsdC5pbmRleCwgbGFzdEluZGV4ID0gMDsgaSA8IGh0bWwubGVuZ3RoOyBpKyspIHtcbiAgICBzd2l0Y2ggKGh0bWwuY2hhckNvZGVBdChpKSkge1xuICAgICAgY2FzZSAzNDogZXNjYXBlID0gJyZxdW90Oyc7IGJyZWFrO1xuICAgICAgY2FzZSAzODogZXNjYXBlID0gJyZhbXA7JzsgYnJlYWs7XG4gICAgICBjYXNlIDYwOiBlc2NhcGUgPSAnJmx0Oyc7IGJyZWFrO1xuICAgICAgY2FzZSA2MjogZXNjYXBlID0gJyZndDsnOyBicmVhaztcbiAgICAgIGRlZmF1bHQ6IGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAobGFzdEluZGV4ICE9PSBpKSByZXN1bHQgKz0gaHRtbC5zdWJzdHJpbmcobGFzdEluZGV4LCBpKTtcbiAgICBsYXN0SW5kZXggPSBpICsgMTtcbiAgICByZXN1bHQgKz0gZXNjYXBlO1xuICB9XG4gIGlmIChsYXN0SW5kZXggIT09IGkpIHJldHVybiByZXN1bHQgKyBodG1sLnN1YnN0cmluZyhsYXN0SW5kZXgsIGkpO1xuICBlbHNlIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFJlLXRocm93IHRoZSBnaXZlbiBgZXJyYCBpbiBjb250ZXh0IHRvIHRoZVxuICogdGhlIHB1ZyBpbiBgZmlsZW5hbWVgIGF0IHRoZSBnaXZlbiBgbGluZW5vYC5cbiAqXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnJcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWxlbmFtZVxuICogQHBhcmFtIHtTdHJpbmd9IGxpbmVub1xuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBvcmlnaW5hbCBzb3VyY2VcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmV4cG9ydHMucmV0aHJvdyA9IHB1Z19yZXRocm93O1xuZnVuY3Rpb24gcHVnX3JldGhyb3coZXJyLCBmaWxlbmFtZSwgbGluZW5vLCBzdHIpe1xuICBpZiAoIShlcnIgaW5zdGFuY2VvZiBFcnJvcikpIHRocm93IGVycjtcbiAgaWYgKCh0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnIHx8ICFmaWxlbmFtZSkgJiYgIXN0cikge1xuICAgIGVyci5tZXNzYWdlICs9ICcgb24gbGluZSAnICsgbGluZW5vO1xuICAgIHRocm93IGVycjtcbiAgfVxuICB0cnkge1xuICAgIHN0ciA9IHN0ciB8fCByZXF1aXJlKCdmcycpLnJlYWRGaWxlU3luYyhmaWxlbmFtZSwgJ3V0ZjgnKVxuICB9IGNhdGNoIChleCkge1xuICAgIHB1Z19yZXRocm93KGVyciwgbnVsbCwgbGluZW5vKVxuICB9XG4gIHZhciBjb250ZXh0ID0gM1xuICAgICwgbGluZXMgPSBzdHIuc3BsaXQoJ1xcbicpXG4gICAgLCBzdGFydCA9IE1hdGgubWF4KGxpbmVubyAtIGNvbnRleHQsIDApXG4gICAgLCBlbmQgPSBNYXRoLm1pbihsaW5lcy5sZW5ndGgsIGxpbmVubyArIGNvbnRleHQpO1xuXG4gIC8vIEVycm9yIGNvbnRleHRcbiAgdmFyIGNvbnRleHQgPSBsaW5lcy5zbGljZShzdGFydCwgZW5kKS5tYXAoZnVuY3Rpb24obGluZSwgaSl7XG4gICAgdmFyIGN1cnIgPSBpICsgc3RhcnQgKyAxO1xuICAgIHJldHVybiAoY3VyciA9PSBsaW5lbm8gPyAnICA+ICcgOiAnICAgICcpXG4gICAgICArIGN1cnJcbiAgICAgICsgJ3wgJ1xuICAgICAgKyBsaW5lO1xuICB9KS5qb2luKCdcXG4nKTtcblxuICAvLyBBbHRlciBleGNlcHRpb24gbWVzc2FnZVxuICBlcnIucGF0aCA9IGZpbGVuYW1lO1xuICBlcnIubWVzc2FnZSA9IChmaWxlbmFtZSB8fCAnUHVnJykgKyAnOicgKyBsaW5lbm9cbiAgICArICdcXG4nICsgY29udGV4dCArICdcXG5cXG4nICsgZXJyLm1lc3NhZ2U7XG4gIHRocm93IGVycjtcbn07XG4iLCIvKipcclxuICogR2VuZXJhdGUgcmFuZG9tIG51bWJlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4aW11bSB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSByYW5kb20gdmFsdWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21OdW1iZXIgKG1heCkge1xyXG4gIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gMSkpXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEYXRlIGZvcm1hdFxyXG4gKiBAcGFyYW0ge251bWJlcn0gZGF0ZSBpbiBtc1xyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBmb3JtYXR0ZWREYXRlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RGF0ZSAoZGF0ZVN0cmluZykge1xyXG4gIGNvbnN0IGRhdGVPYmogPSBuZXcgRGF0ZShkYXRlU3RyaW5nKVxyXG4gIGNvbnN0IGZvcm1hdHRlZERhdGUgPSBkYXRlT2JqLmdldEhvdXJzKCkgKyAnOicgKyBkYXRlT2JqLmdldE1pbnV0ZXMoKVxyXG4gIHJldHVybiBmb3JtYXR0ZWREYXRlXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZWVwIGVxdWFsIGFycmF5c1xyXG4gKiBAcGFyYW0ge2FycmF5fSBzcmMgLSBmaXJzdCBhcnJheVxyXG4gKiBAcGFyYW0ge2FycmF5fSBkZXN0IC0gc2Vjb25kIGFycmF5XHJcbiAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHF1YWxcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWVwRXF1YWwgKHNyYywgZGVzdCkge1xyXG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShzcmMpID09PSBKU09OLnN0cmluZ2lmeShkZXN0KVxyXG59XHJcbiIsInZhciBwdWcgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9wdWctcnVudGltZS9pbmRleC5qc1wiKTtcblxuZnVuY3Rpb24gdGVtcGxhdGUobG9jYWxzKSB7dmFyIHB1Z19odG1sID0gXCJcIiwgcHVnX21peGlucyA9IHt9LCBwdWdfaW50ZXJwOzt2YXIgbG9jYWxzX2Zvcl93aXRoID0gKGxvY2FscyB8fCB7fSk7KGZ1bmN0aW9uIChmb3JtYXREYXRlLCBtZXNzYWdlcywgdXNlcm5hbWUpIHsvLyBpdGVyYXRlIG1lc3NhZ2VzXG47KGZ1bmN0aW9uKCl7XG4gIHZhciAkJG9iaiA9IG1lc3NhZ2VzO1xuICBpZiAoJ251bWJlcicgPT0gdHlwZW9mICQkb2JqLmxlbmd0aCkge1xuICAgICAgZm9yICh2YXIgcHVnX2luZGV4MCA9IDAsICQkbCA9ICQkb2JqLmxlbmd0aDsgcHVnX2luZGV4MCA8ICQkbDsgcHVnX2luZGV4MCsrKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gJCRvYmpbcHVnX2luZGV4MF07XG5wdWdfaHRtbCA9IHB1Z19odG1sICsgXCJcXHUwMDNDZGl2XCIgKyAocHVnLmF0dHIoXCJjbGFzc1wiLCBwdWcuY2xhc3NlcyhbXCJjaGF0X19tZXNzYWdlXCIsbWVzc2FnZS5uYW1lID09PSB1c2VybmFtZSA/ICdjaGF0X19tZXNzYWdlLW15JyA6ICcnXSwgW2ZhbHNlLHRydWVdKSwgZmFsc2UsIHRydWUpKSArIFwiXFx1MDAzRVxcdTAwM0NkaXYgY2xhc3M9XFxcIm1lc3NhZ2VfX3RpbWVcXFwiXFx1MDAzRVwiICsgKHB1Zy5lc2NhcGUobnVsbCA9PSAocHVnX2ludGVycCA9IG1lc3NhZ2UubmFtZSA9PT0gdXNlcm5hbWUgPyAnJyA6IG1lc3NhZ2UubmFtZSkgPyBcIlwiIDogcHVnX2ludGVycCkpICsgXCJcXHUwMDNDXFx1MDAyRmRpdlxcdTAwM0VcXHUwMDNDZGl2XFx1MDAzRVwiICsgKHB1Zy5lc2NhcGUobnVsbCA9PSAocHVnX2ludGVycCA9IG1lc3NhZ2UudGV4dCkgPyBcIlwiIDogcHVnX2ludGVycCkpICsgXCJcXHUwMDNDXFx1MDAyRmRpdlxcdTAwM0VcXHUwMDNDZGl2IGNsYXNzPVxcXCJtZXNzYWdlX190aW1lIGZsb2F0LXJpZ2h0XFxcIlxcdTAwM0VcIiArIChwdWcuZXNjYXBlKG51bGwgPT0gKHB1Z19pbnRlcnAgPSBmb3JtYXREYXRlKG1lc3NhZ2UuZGF0ZSkpID8gXCJcIiA6IHB1Z19pbnRlcnApKSArIFwiXFx1MDAzQ1xcdTAwMkZkaXZcXHUwMDNFXFx1MDAzQ1xcdTAwMkZkaXZcXHUwMDNFXCI7XG4gICAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyICQkbCA9IDA7XG4gICAgZm9yICh2YXIgcHVnX2luZGV4MCBpbiAkJG9iaikge1xuICAgICAgJCRsKys7XG4gICAgICB2YXIgbWVzc2FnZSA9ICQkb2JqW3B1Z19pbmRleDBdO1xucHVnX2h0bWwgPSBwdWdfaHRtbCArIFwiXFx1MDAzQ2RpdlwiICsgKHB1Zy5hdHRyKFwiY2xhc3NcIiwgcHVnLmNsYXNzZXMoW1wiY2hhdF9fbWVzc2FnZVwiLG1lc3NhZ2UubmFtZSA9PT0gdXNlcm5hbWUgPyAnY2hhdF9fbWVzc2FnZS1teScgOiAnJ10sIFtmYWxzZSx0cnVlXSksIGZhbHNlLCB0cnVlKSkgKyBcIlxcdTAwM0VcXHUwMDNDZGl2IGNsYXNzPVxcXCJtZXNzYWdlX190aW1lXFxcIlxcdTAwM0VcIiArIChwdWcuZXNjYXBlKG51bGwgPT0gKHB1Z19pbnRlcnAgPSBtZXNzYWdlLm5hbWUgPT09IHVzZXJuYW1lID8gJycgOiBtZXNzYWdlLm5hbWUpID8gXCJcIiA6IHB1Z19pbnRlcnApKSArIFwiXFx1MDAzQ1xcdTAwMkZkaXZcXHUwMDNFXFx1MDAzQ2RpdlxcdTAwM0VcIiArIChwdWcuZXNjYXBlKG51bGwgPT0gKHB1Z19pbnRlcnAgPSBtZXNzYWdlLnRleHQpID8gXCJcIiA6IHB1Z19pbnRlcnApKSArIFwiXFx1MDAzQ1xcdTAwMkZkaXZcXHUwMDNFXFx1MDAzQ2RpdiBjbGFzcz1cXFwibWVzc2FnZV9fdGltZSBmbG9hdC1yaWdodFxcXCJcXHUwMDNFXCIgKyAocHVnLmVzY2FwZShudWxsID09IChwdWdfaW50ZXJwID0gZm9ybWF0RGF0ZShtZXNzYWdlLmRhdGUpKSA/IFwiXCIgOiBwdWdfaW50ZXJwKSkgKyBcIlxcdTAwM0NcXHUwMDJGZGl2XFx1MDAzRVxcdTAwM0NcXHUwMDJGZGl2XFx1MDAzRVwiO1xuICAgIH1cbiAgfVxufSkuY2FsbCh0aGlzKTtcbn0uY2FsbCh0aGlzLFwiZm9ybWF0RGF0ZVwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGguZm9ybWF0RGF0ZTp0eXBlb2YgZm9ybWF0RGF0ZSE9PVwidW5kZWZpbmVkXCI/Zm9ybWF0RGF0ZTp1bmRlZmluZWQsXCJtZXNzYWdlc1wiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGgubWVzc2FnZXM6dHlwZW9mIG1lc3NhZ2VzIT09XCJ1bmRlZmluZWRcIj9tZXNzYWdlczp1bmRlZmluZWQsXCJ1c2VybmFtZVwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGgudXNlcm5hbWU6dHlwZW9mIHVzZXJuYW1lIT09XCJ1bmRlZmluZWRcIj91c2VybmFtZTp1bmRlZmluZWQpKTs7cmV0dXJuIHB1Z19odG1sO307XG5tb2R1bGUuZXhwb3J0cyA9IHRlbXBsYXRlOyIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXHJcblxyXG5leHBvcnQgY29uc3Qgc3RvcmVTZXJ2aWNlID0ge1xyXG4gIGdldEl0ZW06IChrZXkpID0+IHtcclxuICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpIHx8ICcnXHJcbiAgfSxcclxuICBzZXRJdGVtOiAoa2V5LCBzdHJpbmcpID0+IHtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgc3RyaW5nKVxyXG4gIH0sXHJcblxyXG4gIHJlbW92ZTogKGtleSkgPT4ge1xyXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KVxyXG4gIH0sXHJcblxyXG4gIGdldEpTT046IChrZXkpID0+IHtcclxuICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkgfHwgJ1tdJylcclxuICB9LFxyXG4gIHNldEpTT046IChrZXksIG9iaikgPT4ge1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShvYmopKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgQ2hhdCBmcm9tICcuL2NoYXQvbWFpbidcclxuXHJcbi8qIGVzbGludC1kaXNhYmxlIG5vLW5ldyAqL1xyXG5uZXcgQ2hhdCh7XHJcbiAgZWw6ICcuY2hhdCcsXHJcbiAgYnV0dG9uRWw6ICcud2Vic2l0ZScsIC8vIGVsZW1lbnQgdG8gYXBwZW5kIGNoYXQgdG9nZ2xlIGJ1dHRvbi4gTXVzdCBiZSByZWxhdGl2ZS5cclxuICBpc09wZW5lZE9uU3RhcnQ6IHRydWUgLy8gZGVmYXVsdCB2YWx1ZTogdHJ1ZVxyXG59KVxyXG4iLCJpbXBvcnQgY2hhdFRtcGwgZnJvbSAnLi9tYWluLnB1ZydcclxuXHJcbmltcG9ydCBNZXNzYWdlU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL21lc3NhZ2VTZXJ2aWNlJ1xyXG5pbXBvcnQgQXVkaW9TZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvYXVkaW9TZXJ2aWNlJ1xyXG5pbXBvcnQgQm90aWtTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvYm90aWtTZXJ2aWNlJ1xyXG5cclxuaW1wb3J0IENoYXRCdXR0b24gZnJvbSAnLi9jb21wb25lbnRzL2NoYXQtYnV0dG9uL2NoYXRCdXR0b24nXHJcbmltcG9ydCBMb2dpbkZvcm0gZnJvbSAnLi9jb21wb25lbnRzL2xvZ2luLWZvcm0vbG9naW5Gb3JtJ1xyXG5pbXBvcnQgTWVzc2FnZUxpc3QgZnJvbSAnLi9jb21wb25lbnRzL21lc3NhZ2UtbGlzdC9tZXNzYWdlTGlzdCdcclxuaW1wb3J0IE1lc3NhZ2VGb3JtIGZyb20gJy4vY29tcG9uZW50cy9tZXNzYWdlLWZvcm0vbWVzc2FnZUZvcm0nXHJcbmltcG9ydCBCb3RpayBmcm9tICcuL2NvbXBvbmVudHMvYm90aWsvY2hhdEJvdCdcclxuXHJcbmltcG9ydCB7IHN0b3JlU2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvc3RvcmVTZXJ2aWNlJ1xyXG5pbXBvcnQgeyBmb3JtYXREYXRlLCBkZWVwRXF1YWwgfSBmcm9tICcuL3V0aWxzL3V0aWwnXHJcbmltcG9ydCBFdmVudE1peGluIGZyb20gJy4vY29tcG9uZW50cy9jb21tb24vY3VzdG9tRXZlbnRzJ1xyXG5cclxuY2xhc3MgQ2hhdCB7XHJcbiAgY29uc3RydWN0b3IgKHtcclxuICAgIGVsLFxyXG4gICAgYnV0dG9uRWwsXHJcbiAgICBpc09wZW5lZE9uU3RhcnRcclxuICB9KSB7XHJcbiAgICB0aGlzLmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbClcclxuICAgIHRoaXMuYnV0dG9uRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGJ1dHRvbkVsKVxyXG4gICAgdGhpcy5pc09wZW5lZE9uU3RhcnQgPSBpc09wZW5lZE9uU3RhcnRcclxuXHJcbiAgICB0aGlzLl9pbml0VG9nZ2xlQnV0dG9uKClcclxuICAgIHRoaXMuX2luaXQoKVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHRoaXMuZWwuaW5uZXJIVE1MID0gY2hhdFRtcGwoe1xyXG4gICAgICBtZXNzYWdlczogdGhpcy5tZXNzYWdlcyxcclxuICAgICAgdXNlcm5hbWU6IHRoaXMudXNlck5hbWUsXHJcbiAgICAgIGZvcm1hdERhdGU6IGZvcm1hdERhdGVcclxuICAgIH0pXHJcblxyXG4gICAgaWYgKCF0aGlzLmlzT3BlbmVkT25TdGFydCkge1xyXG4gICAgICB0aGlzLl9vblRvZ2dsZSgpXHJcbiAgICB9XHJcblxyXG4gICAgWy4uLnRoaXMuZWwucXVlcnlTZWxlY3RvckFsbCgnLmhlYWRlcl9fbmFtZSBhJyldLmZvckVhY2goKGVsKSA9PiB7XHJcbiAgICAgIGlmIChlbC5kYXRhc2V0LmFjdGlvbiA9PT0gdGhpcy5jaGF0R3JvdXApIGVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgX2luaXQgKCkge1xyXG4gICAgdGhpcy51c2VyTmFtZSA9IHN0b3JlU2VydmljZS5nZXRJdGVtKCdjaGF0V2lkZ2V0TmFtZScpXHJcbiAgICB0aGlzLmNoYXRHcm91cCA9IHN0b3JlU2VydmljZS5nZXRJdGVtKCdjaGF0V2lkZ2V0R3JvdXAnKSB8fCAnYm90aWsnXHJcblxyXG4gICAgdGhpcy5faW5pdFNlcnZpY2VzKClcclxuXHJcbiAgICB0aGlzLm1lc3NhZ2VTZXJ2aWNlLmdldE1lc3NhZ2VMaXN0KClcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIHRoaXMubWVzc2FnZXMgPSByZXNcclxuICAgICAgICB0aGlzLnJlbmRlcigpXHJcbiAgICAgICAgaWYgKCF0aGlzLnVzZXJOYW1lKSB7XHJcbiAgICAgICAgICB0aGlzLl9pbml0TG9naW5Db21wb25lbnQoKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLl9pbml0Q29tcG9uZW50cygpXHJcbiAgICAgICAgICB0aGlzLl9pbml0RXZlbnRzKClcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY2hhdEdyb3VwICE9PSAnYm90aWsnKSB7XHJcbiAgICAgICAgICB0aGlzLnN0YXJ0UG9sbGluZygpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgX2luaXRTZXJ2aWNlcyAoKSB7XHJcbiAgICB0aGlzLm1lc3NhZ2VTZXJ2aWNlID0gbmV3IE1lc3NhZ2VTZXJ2aWNlKHtcclxuICAgICAgYmFzZVVybDogJ2h0dHBzOi8vY29tcG9uZW50cy0xNjAxLTE5MzAuZmlyZWJhc2Vpby5jb20vY2hhdC9tZXNzYWdlcy5qc29uJyxcclxuICAgICAgY2hhdEdyb3VwOiB0aGlzLmNoYXRHcm91cFxyXG4gICAgfSlcclxuICAgIHRoaXMuYXVkaW9TZXJ2aWNlID0gbmV3IEF1ZGlvU2VydmljZSgpXHJcbiAgICB0aGlzLmJvdGlrU2VydmljZSA9IG5ldyBCb3Rpa1NlcnZpY2UoKVxyXG4gIH1cclxuXHJcbiAgX2luaXRUb2dnbGVCdXR0b24gKCkge1xyXG4gICAgdGhpcy5jaGF0QnV0dG9uID0gbmV3IENoYXRCdXR0b24oe1xyXG4gICAgICBlbDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXHJcbiAgICAgIHBhcmVudEVsOiB0aGlzLmJ1dHRvbkVsLFxyXG4gICAgICBpc09wZW5lZE9uU3RhcnQ6IHRoaXMuaXNPcGVuZWRPblN0YXJ0LFxyXG4gICAgICBFdmVudE1peGluXHJcbiAgICB9KVxyXG5cclxuICAgIHRoaXMuY2hhdEJ1dHRvbi5vbigndG9nZ2xlJywgdGhpcy5fb25Ub2dnbGUuYmluZCh0aGlzKSlcclxuICB9XHJcblxyXG4gIF9pbml0TG9naW5Db21wb25lbnQgKCkge1xyXG4gICAgdGhpcy5sb2dpbkZvcm0gPSBuZXcgTG9naW5Gb3JtKHtcclxuICAgICAgZWw6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxyXG4gICAgICBFdmVudE1peGluXHJcbiAgICB9KVxyXG5cclxuICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy5sb2dpbkZvcm0uZWwpXHJcblxyXG4gICAgdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuY2hhdF9fbG9naW4tYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmxvZ2luRm9ybS50b2dnbGVNb2RhbClcclxuXHJcbiAgICB0aGlzLmxvZ2luRm9ybS5vbignbG9naW4nLCB0aGlzLl9vbkxvZ2luLmJpbmQodGhpcykpXHJcbiAgfVxyXG5cclxuICBfaW5pdENvbXBvbmVudHMgKCkge1xyXG4gICAgdGhpcy5tZXNzYWdlRm9ybSA9IG5ldyBNZXNzYWdlRm9ybSh7XHJcbiAgICAgIGVsOiB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19mb3JtJyksXHJcbiAgICAgIEV2ZW50TWl4aW5cclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5tZXNzYWdlTGlzdCA9IG5ldyBNZXNzYWdlTGlzdCh7XHJcbiAgICAgIGVsOiB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jaGF0X19ib2R5JyksXHJcbiAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJOYW1lLFxyXG4gICAgICBtZXNzYWdlczogdGhpcy5tZXNzYWdlcyxcclxuICAgICAgbWVzc2FnZVNlcnZpY2U6IHRoaXMubWVzc2FnZVNlcnZpY2VcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5ib3RpayA9IG5ldyBCb3Rpayh7XHJcbiAgICAgIGF1ZGlvU2VydmljZTogdGhpcy5hdWRpb1NlcnZpY2UsXHJcbiAgICAgIG1lc3NhZ2VMaXN0OiB0aGlzLm1lc3NhZ2VMaXN0LFxyXG4gICAgICBib3Rpa1NlcnZpY2U6IHRoaXMuYm90aWtTZXJ2aWNlXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgX2luaXRFdmVudHMgKCkge1xyXG4gICAgdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19uYW1lJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9jaGFuZ2VHcm91cC5iaW5kKHRoaXMpKVxyXG5cclxuICAgIHRoaXMubWVzc2FnZUZvcm0ub24oJ21lc3NhZ2UnLCB0aGlzLl9vbk1lc3NhZ2UuYmluZCh0aGlzKSlcclxuICB9XHJcblxyXG4gIF9jaGFuZ2VHcm91cCAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICBjb25zdCBlbCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWFjdGlvbl0nKVxyXG4gICAgaWYgKGVsICE9PSBudWxsICYmICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcbiAgICAgIFsuLi5lbC5wYXJlbnROb2RlLmNoaWxkcmVuXS5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG4gICAgICAgIGNoaWxkLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXHJcbiAgICAgIH0pXHJcbiAgICAgIHN0b3JlU2VydmljZS5zZXRJdGVtKCdjaGF0V2lkZ2V0R3JvdXAnLCBlbC5kYXRhc2V0LmFjdGlvbilcclxuICAgICAgdGhpcy5jaGF0R3JvdXAgPSBlbC5kYXRhc2V0LmFjdGlvblxyXG4gICAgICBpZiAodGhpcy5jaGF0R3JvdXAgPT09ICdib3RpaycpIHtcclxuICAgICAgICB0aGlzLnN0b3BQb2xsaW5nKClcclxuICAgICAgfVxyXG4gICAgICB0aGlzLl9pbml0KClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9vbkxvZ2luIChlKSB7XHJcbiAgICB0aGlzLnVzZXJOYW1lID0gZS5kZXRhaWwudXNlcm5hbWVcclxuICAgIHN0b3JlU2VydmljZS5zZXRJdGVtKCdjaGF0V2lkZ2V0TmFtZScsIHRoaXMudXNlck5hbWUpXHJcblxyXG4gICAgdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcubG9naW4tZmFsc2UnKS5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKVxyXG4gICAgdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcubG9naW4tdHJ1ZScpLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpXHJcblxyXG4gICAgdGhpcy5faW5pdENvbXBvbmVudHMoKVxyXG4gICAgdGhpcy5faW5pdEV2ZW50cygpXHJcblxyXG4gICAgaWYgKCF0aGlzLm1lc3NhZ2VzLmxlbmd0aCAmJiB0aGlzLnVzZXJOYW1lKSB7XHJcbiAgICAgIHRoaXMuYm90aWsuYW5zd2VyKGDQn9GA0LjQstC10YIsICR7dGhpcy51c2VyTmFtZX0hYClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9vbk1lc3NhZ2UgKGUpIHtcclxuICAgIHRoaXMubWVzc2FnZUxpc3QuYWRkTWVzc2FnZSh7XHJcbiAgICAgIHRleHQ6IGUuZGV0YWlsLnRleHQsXHJcbiAgICAgIG5hbWU6IHRoaXMudXNlck5hbWVcclxuICAgIH0pXHJcbiAgICB0aGlzLm1lc3NhZ2VMaXN0LnJlbmRlcigpXHJcbiAgICBpZiAodGhpcy5jaGF0R3JvdXAgPT09ICdib3RpaycpIHRoaXMuYm90aWsuYW5zd2VyKClcclxuICAgIHRoaXMuYXVkaW9TZXJ2aWNlLnBsYXkoJ3NlbmRfbWVzc2FnZScpXHJcbiAgfVxyXG5cclxuICBfb25Ub2dnbGUgKCkge1xyXG4gICAgdGhpcy5lbC5jbGFzc0xpc3QudG9nZ2xlKCdjb2x1bW4tMjUnKVxyXG4gICAgdGhpcy5lbC5jbGFzc0xpc3QudG9nZ2xlKCdjb2x1bW4tMCcpXHJcbiAgfVxyXG5cclxuICBzdGFydFBvbGxpbmcgKCkge1xyXG4gICAgdGhpcy5fX3BvbGxpbmdJRCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ3BvbGxpbmcuLi4nKVxyXG4gICAgICB0aGlzLm1lc3NhZ2VTZXJ2aWNlLmdldE1lc3NhZ2VMaXN0KClcclxuICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICBpZiAoIWRlZXBFcXVhbCh0aGlzLm1lc3NhZ2VMaXN0LmdldExvY2FsTWVzc2FnZXMoKSwgcmVzKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY2gtY2gtY2hhbmdlcyEnKVxyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VMaXN0LnNldE1lc3NhZ2VzKHJlcylcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlTGlzdC5yZW5kZXIoKVxyXG4gICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlTGlzdC5nZXRMb2NhbE1lc3NhZ2VzKClbMF0ubmFtZSAhPT0gdGhpcy51c2VyTmFtZSkge1xyXG4gICAgICAgICAgICAgIHRoaXMuYXVkaW9TZXJ2aWNlLnBsYXkoJ3JlY2VpdmVfbWVzc2FnZScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSwgNDAwMClcclxuICB9XHJcblxyXG4gIHN0b3BQb2xsaW5nICgpIHtcclxuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fX3BvbGxpbmdJRClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENoYXRcclxuIiwidmFyIHB1ZyA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3B1Zy1ydW50aW1lL2luZGV4LmpzXCIpO1xuXG5mdW5jdGlvbiB0ZW1wbGF0ZShsb2NhbHMpIHt2YXIgcHVnX2h0bWwgPSBcIlwiLCBwdWdfbWl4aW5zID0ge30sIHB1Z19pbnRlcnA7O3ZhciBsb2NhbHNfZm9yX3dpdGggPSAobG9jYWxzIHx8IHt9KTsoZnVuY3Rpb24gKHVzZXJuYW1lKSB7cHVnX2h0bWwgPSBwdWdfaHRtbCArIFwiXFx1MDAzQ2RpdiBjbGFzcz1cXFwiY29sdW1uLWNlbnRlciBjaGF0X19hcHBcXFwiXFx1MDAzRVxcdTAwM0NkaXZcIiArIChwdWcuYXR0cihcImNsYXNzXCIsIHB1Zy5jbGFzc2VzKFtcImxvZ2luLWZhbHNlXCIsdXNlcm5hbWUgPyAnaGlkZGVuJyA6ICcnXSwgW2ZhbHNlLHRydWVdKSwgZmFsc2UsIHRydWUpKSArIFwiXFx1MDAzRVxcdTAwM0NidXR0b24gY2xhc3M9XFxcImJ1dHRvbi1wcmltYXJ5IGNoYXRfX2xvZ2luLWJ1dHRvblxcXCJcXHUwMDNFSm9pbiBjaGF0XFx1MDAzQ1xcdTAwMkZidXR0b25cXHUwMDNFXFx1MDAzQ1xcdTAwMkZkaXZcXHUwMDNFXFx1MDAzQ2RpdlwiICsgKHB1Zy5hdHRyKFwiY2xhc3NcIiwgcHVnLmNsYXNzZXMoW1wibG9naW4tdHJ1ZVwiLCF1c2VybmFtZSA/ICdoaWRkZW4nIDogJyddLCBbZmFsc2UsdHJ1ZV0pLCBmYWxzZSwgdHJ1ZSkpICsgXCJcXHUwMDNFXFx1MDAzQ2RpdiBjbGFzcz1cXFwiY2hhdF9faGVhZGVyXFxcIlxcdTAwM0VcXHUwMDNDaSBjbGFzcz1cXFwiZmEgZmEtdXNlci1jaXJjbGUtbyBoZWFkZXJfX2F2YXRhclxcXCJcXHUwMDNFXFx1MDAzQ1xcdTAwMkZpXFx1MDAzRVxcdTAwM0NwIGNsYXNzPVxcXCJoZWFkZXJfX25hbWVcXFwiXFx1MDAzRUNoYXQgd2l0aCZuYnNwO1xcdTAwM0NhIGhyZWY9XFxcIiNcXFwiIGRhdGEtYWN0aW9uPVxcXCJib3Rpa1xcXCJcXHUwMDNFQm90aWtcXHUwMDNDXFx1MDAyRmFcXHUwMDNFJm5ic3A7IHwgJm5ic3A7XFx1MDAzQ2EgaHJlZj1cXFwiI1xcXCIgZGF0YS1hY3Rpb249XFxcImdyb3VwXFxcIlxcdTAwM0VHcm91cFxcdTAwM0NcXHUwMDJGYVxcdTAwM0VcXHUwMDNDXFx1MDAyRnBcXHUwMDNFXFx1MDAzQ1xcdTAwMkZkaXZcXHUwMDNFXFx1MDAzQ2RpdiBjbGFzcz1cXFwiY2hhdF9fYm9keVxcXCJcXHUwMDNFXCIgKyAobnVsbCA9PSAocHVnX2ludGVycCA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvbWVzc2FnZS1saXN0L2NoYXQtbWVzc2FnZS1saXN0LnB1Z1wiKS5jYWxsKHRoaXMsIGxvY2FscykpID8gXCJcIiA6IHB1Z19pbnRlcnApICsgXCJcXHUwMDNDXFx1MDAyRmRpdlxcdTAwM0VcXHUwMDNDZGl2IGNsYXNzPVxcXCJjaGF0X19mb290ZXJcXFwiXFx1MDAzRVxcdTAwM0Nmb3JtIGNsYXNzPVxcXCJjaGF0X19mb3JtXFxcIiBuYW1lPVxcXCJjaGF0X19mb3JtXFxcIlxcdTAwM0VcXHUwMDNDdGV4dGFyZWEgaWQ9XFxcIm1lc3NhZ2VcXFwiIHBsYWNlaG9sZGVyPVxcXCJFbnRlciBtZXNzYWdlLi4uXFxcIlxcdTAwM0VcXHUwMDNDXFx1MDAyRnRleHRhcmVhXFx1MDAzRVxcdTAwM0NcXHUwMDJGZm9ybVxcdTAwM0VcXHUwMDNDXFx1MDAyRmRpdlxcdTAwM0VcXHUwMDNDXFx1MDAyRmRpdlxcdTAwM0VcXHUwMDNDXFx1MDAyRmRpdlxcdTAwM0VcIjt9LmNhbGwodGhpcyxcInVzZXJuYW1lXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC51c2VybmFtZTp0eXBlb2YgdXNlcm5hbWUhPT1cInVuZGVmaW5lZFwiP3VzZXJuYW1lOnVuZGVmaW5lZCkpOztyZXR1cm4gcHVnX2h0bWw7fTtcbm1vZHVsZS5leHBvcnRzID0gdGVtcGxhdGU7IiwiLyogZ2xvYmFsIGZldGNoICovXHJcbmltcG9ydCB7IHN0b3JlU2VydmljZSB9IGZyb20gJy4vc3RvcmVTZXJ2aWNlJ1xyXG5cclxuY2xhc3MgTWVzc2FnZVNlcnZpY2Uge1xyXG4gIGNvbnN0cnVjdG9yICh7XHJcbiAgICBiYXNlVXJsLFxyXG4gICAgY2hhdEdyb3VwXHJcbiAgfSkge1xyXG4gICAgdGhpcy5iYXNlVXJsID0gYmFzZVVybFxyXG4gICAgdGhpcy5jaGF0R3JvdXAgPSBjaGF0R3JvdXBcclxuICB9XHJcblxyXG4gIF9yZXF1ZXN0ICgpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLmJhc2VVcmwpIC8vICdjaGF0L3NlcnZpY2VzL21vY2tNZXNzYWdlcy5qc29uJ1xyXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSlcclxuICAgICAgLnRoZW4oKGpzb24pID0+IE9iamVjdC52YWx1ZXMoanNvbikucmV2ZXJzZSgpKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICByZXR1cm4gc3RvcmVTZXJ2aWNlLmdldEpTT04oYGNoYXRIaXN0b3J5LSR7dGhpcy5jaGF0R3JvdXB9YClcclxuICAgICAgfSlcclxuICB9XHJcblxyXG4gIGdldE1lc3NhZ2VMaXN0ICgpIHtcclxuICAgIGlmICh0aGlzLmNoYXRHcm91cCAhPT0gJ2JvdGlrJykge1xyXG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICByZXNvbHZlKHN0b3JlU2VydmljZS5nZXRKU09OKGBjaGF0SGlzdG9yeS0ke3RoaXMuY2hhdEdyb3VwfWApKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2F2ZU1lc3NhZ2VzIChtZXNzYWdlcywgbWVzc2FnZSkge1xyXG4gICAgaWYgKHRoaXMuY2hhdEdyb3VwICE9PSAnYm90aWsnKSB7XHJcbiAgICAgIGZldGNoKHRoaXMuYmFzZVVybCwge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpXHJcbiAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpXHJcbiAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBzdG9yZVNlcnZpY2Uuc2V0SlNPTihgY2hhdEhpc3RvcnktJHt0aGlzLmNoYXRHcm91cH1gLCBtZXNzYWdlcylcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1lc3NhZ2VTZXJ2aWNlXHJcbiIsIi8qIGdsb2JhbCBBdWRpbyAqL1xyXG5jbGFzcyBBdWRpb1NlcnZpY2Uge1xyXG4gIGNvbnN0cnVjdG9yICgpIHtcclxuICAgIHRoaXMuc291bmRzID0ge1xyXG4gICAgICAncmVjZWl2ZV9tZXNzYWdlJzogbmV3IEF1ZGlvKCcuL2NoYXQvYXNzZXRzL3NvdW5kcy9ub3RpZmljYXRpb24ubXAzJyksXHJcbiAgICAgICdzZW5kX21lc3NhZ2UnOiBuZXcgQXVkaW8oJy4vY2hhdC9hc3NldHMvc291bmRzL3NlbmRpbmcubXAzJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHBsYXkgKHNvdW5kKSB7XHJcbiAgICB0aGlzLnNvdW5kc1tzb3VuZF0ucGxheSgpXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBdWRpb1NlcnZpY2VcclxuIiwiY2xhc3MgQm90aWtTZXJ2aWNlIHtcclxuICBjb25zdHJ1Y3RvciAoKSB7XHJcbiAgICB0aGlzLm5hbWUgPSAnQm90aWtTZXJ2aWNlJ1xyXG4gIH1cclxuXHJcbiAgZ2V0UmFuZG9tTWVzc2FnZXMgKCkge1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAgJ9Cg0LDRgdGB0LrQsNC20Lgg0LzQvdC1INGH0YLQvi3QvdC40LHRg9C00YwnLFxyXG4gICAgICAn0JzQvdC1INGB0LrRg9GH0L3QvicsXHJcbiAgICAgICfQniDRh9C10Lwg0YLRiyDQtNGD0LzQsNC10YjRjD8nLFxyXG4gICAgICAn0KXQvtGH0LXRiNGMINC/0L7Qs9C+0LLQvtGA0LjRgtGMINC+0LEg0Y3RgtC+0Lw/JyxcclxuICAgICAgJ9Ca0LDQuiDRgtGLINC/0YDQvtCy0LXQuyDRgdCy0L7QuSDQtNC10L3RjD8nLFxyXG4gICAgICAn0KMg0YLQtdCx0Y8g0LXRgdGC0Ywg0L/Qu9Cw0L3RiyDQvdCwINC30LDQstGC0YDQsNGI0L3QuNC5INC00LXQvdGR0Lo/JyxcclxuICAgICAgJ9Ci0LXQsdC1INC90YDQsNCy0LjRgtGB0Y8g0L/QvtCz0L7QtNCwINC30LAg0L7QutC+0YjQutC+0Lw/JyxcclxuICAgICAgJ9CS0L4g0YHQutC+0LvRjNC60L4g0YLRiyDQv9GA0L7RgdC90YPQu9GB0Y8/JyxcclxuICAgICAgJ9CvINGC0L7QttC1JyxcclxuICAgICAgJ9CQ0LPQsCcsXHJcbiAgICAgICfQmCDRgtC10LHQtScsXHJcbiAgICAgICfQpdC80LwsINC40L3RgtC10YDQtdGB0L3QtdC90YzQutC+Li4uJ1xyXG4gICAgXVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQm90aWtTZXJ2aWNlXHJcbiIsImltcG9ydCBidXR0b25UZW1wbGF0ZSBmcm9tICcuL2NoYXQtYnV0dG9uLnB1ZydcclxuXHJcbmNsYXNzIENoYXRCdXR0b24ge1xyXG4gIGNvbnN0cnVjdG9yICh7XHJcbiAgICBlbCxcclxuICAgIHBhcmVudEVsLFxyXG4gICAgaXNPcGVuZWRPblN0YXJ0ID0gdHJ1ZSxcclxuICAgIEV2ZW50TWl4aW5cclxuICB9KSB7XHJcbiAgICAvLyBhZGRpbmcgb24oKSBhbmQgdHJpZ2dlcigpIG1ldGhvZHNcclxuICAgIEV2ZW50TWl4aW4uYXBwbHkodGhpcylcclxuXHJcbiAgICB0aGlzLmVsID0gZWxcclxuICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnc2hvd19fYnV0dG9uJylcclxuICAgIHRoaXMucGFyZW50RWwgPSBwYXJlbnRFbFxyXG4gICAgdGhpcy5pc09wZW5lZE9uU3RhcnQgPSBpc09wZW5lZE9uU3RhcnRcclxuXHJcbiAgICB0aGlzLnJlbmRlcigpXHJcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50b2dnbGUuYmluZCh0aGlzKSlcclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICB0aGlzLmVsLmlubmVySFRNTCA9IGJ1dHRvblRlbXBsYXRlKClcclxuICAgIHRoaXMucGFyZW50RWwuYXBwZW5kQ2hpbGQodGhpcy5lbClcclxuICAgIGlmICghdGhpcy5pc09wZW5lZE9uU3RhcnQpIHtcclxuICAgICAgdGhpcy5fdG9nZ2xlKHRoaXMuZWwuZmlyc3RDaGlsZClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHRvZ2dsZSAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcblxyXG4gICAgdGhpcy5fdG9nZ2xlKGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWFjdGlvbl0nKSlcclxuICAgIHRoaXMudHJpZ2dlcigndG9nZ2xlJylcclxuICB9XHJcblxyXG4gIF90b2dnbGUgKGVsKSB7XHJcbiAgICBlbC5maXJzdENoaWxkLmNsYXNzTGlzdC50b2dnbGUoJ2ZhLWNoZXZyb24tbGVmdCcpXHJcbiAgICBlbC5maXJzdENoaWxkLmNsYXNzTGlzdC50b2dnbGUoJ2ZhLWNoZXZyb24tcmlnaHQnKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2hhdEJ1dHRvblxyXG4iLCJ2YXIgcHVnID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvcHVnLXJ1bnRpbWUvaW5kZXguanNcIik7XG5cbmZ1bmN0aW9uIHRlbXBsYXRlKGxvY2Fscykge3ZhciBwdWdfaHRtbCA9IFwiXCIsIHB1Z19taXhpbnMgPSB7fSwgcHVnX2ludGVycDtwdWdfaHRtbCA9IHB1Z19odG1sICsgXCJcXHUwMDNDYnV0dG9uIGNsYXNzPVxcXCJidXR0b24gYnV0dG9uLWJsYWNrIGJ1dHRvbl9fc2hvdy1jaGF0XFxcIiBkYXRhLWFjdGlvbj1cXFwidG9nZ2xlXFxcIlxcdTAwM0VcXHUwMDNDaSBjbGFzcz1cXFwiZmEgZmEtY2hldnJvbi1yaWdodFxcXCJcXHUwMDNFXFx1MDAzQ1xcdTAwMkZpXFx1MDAzRVxcdTAwM0NcXHUwMDJGYnV0dG9uXFx1MDAzRVwiOztyZXR1cm4gcHVnX2h0bWw7fTtcbm1vZHVsZS5leHBvcnRzID0gdGVtcGxhdGU7IiwiaW1wb3J0IG1vZGFsVG1wbCBmcm9tICcuL21vZGFsLnB1ZydcclxuXHJcbmNsYXNzIExvZ2luRm9ybSB7XHJcbiAgY29uc3RydWN0b3IgKHtcclxuICAgIGVsLFxyXG4gICAgRXZlbnRNaXhpblxyXG4gIH0pIHtcclxuICAgIC8vIGFkZGluZyBvbigpIGFuZCB0cmlnZ2VyKCkgbWV0aG9kc1xyXG4gICAgRXZlbnRNaXhpbi5hcHBseSh0aGlzKVxyXG5cclxuICAgIHRoaXMuZWwgPSBlbFxyXG5cclxuICAgIHRoaXMucmVuZGVyKClcclxuXHJcbiAgICB0aGlzLnRvZ2dsZU1vZGFsID0gdGhpcy50b2dnbGVNb2RhbC5iaW5kKHRoaXMpXHJcblxyXG4gICAgdGhpcy5faW5pdEV2ZW50cygpXHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgdGhpcy5lbC5pbm5lckhUTUwgPSBtb2RhbFRtcGwoKVxyXG5cclxuICAgIHRoaXMuY2hhdE1vZGFsID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2NoYXQnKVxyXG4gICAgdGhpcy5jaGF0TW9kYWxDbG9zZSA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignLm1vZGFsX19jaGF0LWNsb3NlJylcclxuICAgIHRoaXMuY2hhdE1vZGFsU3VibWl0ID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuY2hhdC1sb2dpbicpXHJcbiAgfVxyXG5cclxuICB0b2dnbGVNb2RhbCAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcblxyXG4gICAgdGhpcy5jaGF0TW9kYWwuY2xhc3NMaXN0LnRvZ2dsZSgnbm90LXZpc2libGUnKVxyXG4gIH1cclxuXHJcbiAgc3VibWl0TG9naW5Gb3JtIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KClcclxuXHJcbiAgICB0aGlzLnRyaWdnZXIoJ2xvZ2luJywgeyB1c2VybmFtZTogZS50YXJnZXQubmFtZS52YWx1ZSB9KVxyXG4gICAgdGhpcy50b2dnbGVNb2RhbChlKVxyXG4gIH1cclxuXHJcbiAgX2luaXRFdmVudHMgKCkge1xyXG4gICAgdGhpcy5jaGF0TW9kYWxDbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudG9nZ2xlTW9kYWwpXHJcbiAgICB0aGlzLmNoYXRNb2RhbFN1Ym1pdC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLnN1Ym1pdExvZ2luRm9ybS5iaW5kKHRoaXMpKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTG9naW5Gb3JtXHJcbiIsInZhciBwdWcgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9wdWctcnVudGltZS9pbmRleC5qc1wiKTtcblxuZnVuY3Rpb24gdGVtcGxhdGUobG9jYWxzKSB7dmFyIHB1Z19odG1sID0gXCJcIiwgcHVnX21peGlucyA9IHt9LCBwdWdfaW50ZXJwO3B1Z19odG1sID0gcHVnX2h0bWwgKyBcIlxcdTAwM0NkaXYgY2xhc3M9XFxcIm1vZGFsIG1vZGFsX19jaGF0IG5vdC12aXNpYmxlXFxcIlxcdTAwM0VcXHUwMDNDZGl2IGNsYXNzPVxcXCJtb2RhbF9fYm9keVxcXCJcXHUwMDNFXFx1MDAzQ2RpdiBjbGFzcz1cXFwibW9kYWxfX2NvbnRlbnRcXFwiXFx1MDAzRVxcdTAwM0Nmb3JtIGNsYXNzPVxcXCJjaGF0LWxvZ2luXFxcIiBuYW1lPVxcXCJjaGF0LWxvZ2luXFxcIlxcdTAwM0VcXHUwMDNDZmllbGRzZXRcXHUwMDNFXFx1MDAzQ2xhYmVsIGZvcj1cXFwibmFtZVxcXCJcXHUwMDNFRW50ZXIgeW8gbmFtZVxcdTAwM0NcXHUwMDJGbGFiZWxcXHUwMDNFXFx1MDAzQ2lucHV0IGlkPVxcXCJuYW1lXFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiBwbGFjZWhvbGRlcj1cXFwibmFtZVxcXCIgcmVxdWlyZWQgYXV0b2ZvY3VzXFx1MDAzRVxcdTAwM0NcXHUwMDJGZmllbGRzZXRcXHUwMDNFXFx1MDAzQ2J1dHRvbiBjbGFzcz1cXFwiYnV0dG9uLXByaW1hcnkgbS1sLTEgZmxvYXQtcmlnaHRcXFwiIHR5cGU9XFxcInN1Ym1pdFxcXCJcXHUwMDNFRW50ZXIgY2hhdFxcdTAwM0NcXHUwMDJGYnV0dG9uXFx1MDAzRVxcdTAwM0NidXR0b24gY2xhc3M9XFxcImJ1dHRvbi1vdXRsaW5lIGZsb2F0LXJpZ2h0IG1vZGFsX19jaGF0LWNsb3NlXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiXFx1MDAzRUNsb3NlXFx1MDAzQ1xcdTAwMkZidXR0b25cXHUwMDNFXFx1MDAzQ1xcdTAwMkZmb3JtXFx1MDAzRVxcdTAwM0NcXHUwMDJGZGl2XFx1MDAzRVxcdTAwM0NcXHUwMDJGZGl2XFx1MDAzRVxcdTAwM0NcXHUwMDJGZGl2XFx1MDAzRVwiOztyZXR1cm4gcHVnX2h0bWw7fTtcbm1vZHVsZS5leHBvcnRzID0gdGVtcGxhdGU7IiwiaW1wb3J0IGNoYXRtbFRtcGwgZnJvbSAnLi9jaGF0LW1lc3NhZ2UtbGlzdC5wdWcnXHJcbmltcG9ydCB7IGZvcm1hdERhdGUgfSBmcm9tICcuLi8uLi91dGlscy91dGlsJ1xyXG5cclxuY2xhc3MgTWVzc2FnZUxpc3Qge1xyXG4gIGNvbnN0cnVjdG9yICh7XHJcbiAgICBlbCxcclxuICAgIHVzZXJuYW1lLFxyXG4gICAgbWVzc2FnZXMsXHJcbiAgICBtZXNzYWdlU2VydmljZVxyXG4gIH0pIHtcclxuICAgIHRoaXMuZWwgPSBlbFxyXG4gICAgdGhpcy5tZXNzYWdlU2VydmljZSA9IG1lc3NhZ2VTZXJ2aWNlXHJcbiAgICB0aGlzLm1lc3NhZ2VzID0gbWVzc2FnZXNcclxuICAgIHRoaXMudXNlcm5hbWUgPSB1c2VybmFtZVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHRoaXMuZWwuaW5uZXJIVE1MID0gY2hhdG1sVG1wbCh7XHJcbiAgICAgIG1lc3NhZ2VzOiB0aGlzLm1lc3NhZ2VzLFxyXG4gICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSxcclxuICAgICAgZm9ybWF0RGF0ZTogZm9ybWF0RGF0ZVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGdldExvY2FsTWVzc2FnZXMgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubWVzc2FnZXNcclxuICB9XHJcblxyXG4gIHNldE1lc3NhZ2VzIChtZXNzYWdlcykge1xyXG4gICAgdGhpcy5tZXNzYWdlcyA9IG1lc3NhZ2VzXHJcbiAgfVxyXG5cclxuICBhZGRNZXNzYWdlIChkYXRhKSB7XHJcbiAgICBjb25zdCBtZXNzYWdlID0geyAvLyB1bnNoaWZ0IGlzIG5vIGdvb2RcclxuICAgICAgdGV4dDogZGF0YS50ZXh0LFxyXG4gICAgICBuYW1lOiBkYXRhLm5hbWUgfHwgdGhpcy51c2VybmFtZSxcclxuICAgICAgZGF0ZTogRGF0ZS5ub3coKVxyXG4gICAgfVxyXG4gICAgdGhpcy5tZXNzYWdlcy51bnNoaWZ0KG1lc3NhZ2UpXHJcbiAgICB0aGlzLm1lc3NhZ2VTZXJ2aWNlLnNhdmVNZXNzYWdlcyh0aGlzLm1lc3NhZ2VzLCBtZXNzYWdlKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTWVzc2FnZUxpc3RcclxuIiwiY2xhc3MgTWVzc2FnZUZvcm0ge1xyXG4gIGNvbnN0cnVjdG9yICh7XHJcbiAgICBlbCxcclxuICAgIEV2ZW50TWl4aW5cclxuICB9KSB7XHJcbiAgICAvLyBhZGRpbmcgb24oKSBhbmQgdHJpZ2dlcigpIG1ldGhvZHNcclxuICAgIEV2ZW50TWl4aW4uYXBwbHkodGhpcylcclxuXHJcbiAgICB0aGlzLmVsID0gZWxcclxuICAgIHRoaXMubWVzc2FnZVRleHRhcmVhID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcjbWVzc2FnZScpXHJcbiAgICB0aGlzLl9pbml0RXZlbnRzKClcclxuICB9XHJcblxyXG4gIHJlc2V0IChlKSB7XHJcbiAgICB0aGlzLmVsLnJlc2V0KClcclxuICB9XHJcblxyXG4gIHN1Ym1pdE1lc3NhZ2VGb3JtIChlKSB7XHJcbiAgICBpZiAoZS5jaGFyQ29kZSA9PT0gMTMgJiYgZS5zaGlmdEtleSA9PT0gZmFsc2UpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgIGlmIChlLnRhcmdldC52YWx1ZS50cmltKCkpIHtcclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ21lc3NhZ2UnLCB7IHRleHQ6IGUudGFyZ2V0LnZhbHVlIH0pXHJcbiAgICAgICAgdGhpcy5yZXNldChlKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaW5pdEV2ZW50cyAoKSB7XHJcbiAgICB0aGlzLm1lc3NhZ2VUZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIHRoaXMuc3VibWl0TWVzc2FnZUZvcm0uYmluZCh0aGlzKSlcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1lc3NhZ2VGb3JtXHJcbiIsImltcG9ydCB7IGdldFJhbmRvbU51bWJlciB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWwnXHJcblxyXG5jbGFzcyBDaGF0Qm90IHtcclxuICBjb25zdHJ1Y3RvciAoe1xyXG4gICAgYXVkaW9TZXJ2aWNlLFxyXG4gICAgbWVzc2FnZUxpc3QsXHJcbiAgICBib3Rpa1NlcnZpY2VcclxuICB9KSB7XHJcbiAgICB0aGlzLmFuc3dlcnMgPSBib3Rpa1NlcnZpY2UuZ2V0UmFuZG9tTWVzc2FnZXMoKVxyXG4gICAgdGhpcy5tZXNzYWdlTGlzdCA9IG1lc3NhZ2VMaXN0XHJcbiAgICB0aGlzLmF1ZGlvU2VydmljZSA9IGF1ZGlvU2VydmljZVxyXG4gIH1cclxuXHJcbiAgYW5zd2VyIChtZXNzYWdlKSB7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy5tZXNzYWdlTGlzdC5hZGRNZXNzYWdlKHtcclxuICAgICAgICB0ZXh0OiBtZXNzYWdlIHx8IHRoaXMuYW5zd2Vyc1tnZXRSYW5kb21OdW1iZXIodGhpcy5hbnN3ZXJzLmxlbmd0aCldLFxyXG4gICAgICAgIG5hbWU6ICdib3RpaydcclxuICAgICAgfSlcclxuICAgICAgdGhpcy5tZXNzYWdlTGlzdC5yZW5kZXIoKVxyXG4gICAgICB0aGlzLmF1ZGlvU2VydmljZS5wbGF5KCdyZWNlaXZlX21lc3NhZ2UnKVxyXG4gICAgfSwgMTUwMClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENoYXRCb3RcclxuIiwiLyogZ2xvYmFsIEN1c3RvbUV2ZW50ICovXHJcblxyXG5mdW5jdGlvbiBFdmVudE1peGluICgpIHtcclxuICB0aGlzLm9uID0gZnVuY3Rpb24gKG5hbWUsIGNiKSB7XHJcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgY2IpXHJcbiAgfVxyXG4gIHRoaXMudHJpZ2dlciA9IGZ1bmN0aW9uIChuYW1lLCBkYXRhKSB7XHJcbiAgICBsZXQgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQobmFtZSwgeyBkZXRhaWw6IGRhdGEgfSlcclxuICAgIHRoaXMuZWwuZGlzcGF0Y2hFdmVudChldmVudClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEV2ZW50TWl4aW5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==